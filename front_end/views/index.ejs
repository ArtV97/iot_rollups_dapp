<!DOCTYPE html>
<html>

<head lang="pt-br">
	<title>Cartesi Rollups Dapp</title>
	<meta charset="utf-8">

    <!-- Bootstrap -->
	<link href="bootstrap-5.1.3-dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Font Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
</head>

<body id="home" style="padding-top: 70px;">

    <nav class="navbar navbar-light bg-light navbar-expand-md fixed-top border-bottom">
		<div class="container position-relative">
           <a class="navbar-brand" href="/">
               <img src="assets/images/logo.png" style="height: 48px;" alt="IoT Rollups DApp">
            </a>

            <!-- <div class="collapse navbar-collapse"> -->
            <ul class="navbar-nav position-absolute top-50 start-50 translate-middle">
                <li class="nav-item">
                    <a class="nav-link active disabled font-weight-bolder" aria-current="Dashboard" href="">Dashboard</a>
                </li>

                <li class="nav-item">
                <a class="nav-link" aria-current="Form" href="/form">Form</a>
                </li>
            </ul>
    
            <!-- </div> -->
        </div>
    </nav>

    <div class="container mt-4">
        <table id="finesTable" class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">Bus Line</th>
                    <th scope="col">Timestamp</th>
                    <th scope="col">Fine Description</th>
                    <th scope="col">Fine Value (R$)</th>
                </tr>
            </thead>
            
            <tbody>
                <% if (notices) { %>
                    <% for (var i = 0; i < notices.length; i++) { %>
                        <% var dsc = "" %> 
                        <tr>
                            <td><%= notices[i].bus_line %></td>
                            <td><%= notices[i].ts %></td>
                            <% for (var j = 0; j < notices[i].dsc.length; j++) { 
                                dsc += notices[i].dsc[j]
                                if (j != notices[i].dsc.length - 1) {
                                    dsc += " and "
                                }
                            } %>
                            <td><%= dsc %></td>
                            <td><%= notices[i].value %></td>
                        </tr>
                    <% } %>
                <% } else { %>
                    <tr><td colspan="4" class="text-center">No data to show</td></tr>
                <% } %>
            </tbody>
        </table>


        <% if (pagination) { %>
            <nav aria-label="Page navigation">
                <ul class="pagination justify-content-center">
                    <% for (var i = 0; i < pagination.length; i++) { %>
                        <% const item = pagination[i] %>
                        <% const page_href = "/?page=" + item.val %>
                        <% if (item.disabled) { %>
                            <li class="page-item disabled"><a class="page-link" href=<%= page_href %> title=<%= item.title %> > <%= item.label %> </a></li>
                        <% } else { %>
                            <li class="page-item"><a class="page-link" href=<%= page_href %> title=<%= item.title %> > <%= item.label %> </a></li>
                        <% } %> 
                    <% } %> 
                </ul>
            </nav>
        <% } %> 
    </div>
</body>

<!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script> -->